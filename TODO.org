- [X] Get tagged tracks for last.fm user and tag
- [X] Get loved tracks for user
- [X] Get tracks from spotify given title and artist

- [X] client integration tests
  - [X] spotify
  - [X] last.fm

- [X] configure the location of credential files less crappily

- [X] command line spotify calls

- [X] Hide the base calls with wrapping in simple-track

- [X] map from last.fm track to spotify track
  - [X] pick first response?
  - [X] deal with errors or no-resp
  - [X] add to commandline

- [X] add ability to short circuit auth calls with environment var
  - also try stubbing out env in unit test, some kind of dynamic rebind?

- [X] add commandline lookup of track from spotify-id
  - why is this useful?
    - do we need to do this at all or can we just use the ID directly in the offline DB
    - at least do it for a sanity check

- [X] implement user authorization redirect server that can be run
  somewhere

- [X] Deploy the redirect server somewhere

- [X] implement user authorization using the server
  - [X] get request flow working
  - [X] wrap with nice functions
    - [X] string/JSON output
    - [X] clojure.java.browse/browse-url
    - [X] store refresh token somewhere

- [X] retrieve playlists
  - [X] for user
  - [X] by id

- [ ] Add non-default scopes to user auth requests

- [X] create lastfm playlist
  - this requires user auth, see above
  - [X] wait actually how do you get a spotify ID?
  - [X] from scratch

- [X] add URI to spotify/simple-track
  - IDs don't work for building playlists

- [X] Add tracks to playlist

- [X] Directly convert lastfm tag to spotify playlist in a single command
- [ ] ditto loved

- [ ] Make sure whole lists are getting added
  - can only add 100 at a time, beware ;)

- [ ] refactor main to include command line usage

- [ ] can you get a list of a lastfm user's tags?

- [X] find out why "Adorable Homeboy" works in the search bar but not in the track search
  - It turns out some tracks won't appear if you're not signed in (and
    potentially fulfil other criteria)

- [ ] Build offline database of mappings that don't work using the default feeling-lucky search

- [ ] config/authentication errors better?
  - [ ] auth errors
  - [ ] use spec to describe config?

- [ ] deal with pagination of last.fm response

- [ ] unit tests?
  - [ ] mock HTTP thingy
  - [ ] use to test-drive the next bits

- [ ] build list of spotify tracks (IDs) from last.fm list
  - [ ] best effort
  - [ ] record misses
  - [ ] dump to file?
  - [ ] write/read local mapping file for known misses?
    - [ ] mbid ->
    - [ ] without mbid, artist and track?

- [ ] build playlist in spotify given track list
