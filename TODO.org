- [X] Get tagged tracks for last.fm user and tag
- [X] Get loved tracks for user
- [X] Get tracks from spotify given title and artist

- [X] client integration tests
  - [X] spotify
  - [X] last.fm

- [X] configure the location of credential files less crappily

- [X] command line spotify calls

- [X] Hide the base calls with wrapping in simple-track

- [-] map from last.fm track to spotify track
  - [X] pick first response?
  - [X] deal with errors or no-resp
  - [X] add to commandline
  - [ ] add progress bar
    - https://github.com/ctongfei/progressbar

- [X] add ability to short circuit auth calls with environment var
  - also try stubbing out env in unit test, some kind of dynamic rebind?

- [X] add commandline lookup of track from spotify-id
  - why is this useful?
    - do we need to do this at all or can we just use the ID directly in the offline DB
    - at least do it for a sanity check

- [ ] implement user authorization redirect server that can be run
  somewhere
  - [ ] server implementation
    - [ ] defend against DOS by hashing the state string with the
      spotify secret
    - [ ] store things in a configurable cache
      - size
      - TTL
  - [ ] dockerize
  - [ ] terraform
    - ECS
    - HTTPS termination
  - [ ] consider whether it can be implemented as a lambda and DynamoDB?
    - this is certainly much cheaper

- [ ] implement user authorization using the server

- [-] create lastfm playlist
  - this requires user auth, see above
  - [X] wait actually how do you get a spotify ID?
  - [ ] from ids

- [ ] refactor main to include command line usage

- [ ] find out why "Adorable Homeboy" works in the search bar but not in the track search
  - Also why does www.spotify.com think I'm in Sweden and are these things related?
  - the app works fine...
  - my profile even lists GB
  - developer dashboard has me requesting from sweden and US as well

- [ ] Build offline database of mappings that don't work using the default feeling-lucky search

- [ ] config/authentication errors better?
  - [ ] auth errors
  - [ ] use spec to describe config?

- [ ] deal with pagination of last.fm response

- [ ] unit tests?
  - [ ] mock HTTP thingy
  - [ ] use to test-drive the next bits

- [ ] build list of spotify tracks (IDs) from last.fm list
  - [ ] best effort
  - [ ] record misses
  - [ ] dump to file?
  - [ ] write/read local mapping file for known misses?
    - [ ] mbid ->
    - [ ] without mbid, artist and track?

- [ ] build playlist in spotify given track list
